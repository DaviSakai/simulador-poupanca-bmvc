{% extends "base.html" %}

{% block title %}Minhas Metas{% endblock %}

{% block head %}
<link rel="stylesheet" href="/static/css/metas_base.css?v=1">
<link rel="stylesheet" href="/static/css/metas_lista.css?v=1">
{% endblock %}

{% block content %}

<div class="page">

    <!-- TOPBAR -->
    <div class="topbar glass">
        <div class="topbar-left">
            <div class="logo-dot"></div>
            <div>
                <div class="topbar-sub">BMVC â€” Planejamento</div>
                <h1 class="sim-title">Minhas Metas</h1>
            </div>
        </div>

        <a href="/restrito" class="btn-voltar">â† Dashboard</a>
    </div>

    <!-- TÃTULO -->
    <h2 class="list-title">Metas Financeiras</h2>
    <p class="list-desc">Gerencie, edite e consulte todas as suas metas.</p>

    <!-- BOTÃƒO CRIAR -->
    <a href="/metas/nova" class="btn-nova">+ Criar nova meta</a>

    <!-- GRID -->
    <div class="cards-grid">

        {% for meta in metas %}
        <div class="card glass">

            <span class="tag {{ meta.categoria }}">
                {% if meta.categoria == 'curto' %}CURTO PRAZO
                {% elif meta.categoria == 'medio' %}MÃ‰DIO PRAZO
                {% else %}LONGO PRAZO
                {% endif %}
            </span>

            <div class="card-title">{{ meta.nome }}</div>

            <div class="info">ğŸª™ Valor mensal: <b>R$ {{ "%.2f"|format(meta.valor_mensal) }}</b></div>
            <div class="info">ğŸ“† DuraÃ§Ã£o: <b>{{ meta.qt_meses }} meses</b></div>
            <div class="info">ğŸ“ˆ Juros anual: <b>{{ "%.2f"|format(meta.taxa_juros) }}%</b></div>

            <div class="acoes">
                <a href="/metas/{{ meta.id }}/editar" class="btn-editar">Editar</a>

                <form method="POST" action="/metas/{{ meta.id }}/excluir" style="display:inline;">
                    <button class="btn-excluir">Excluir</button>
                </form>
            </div>

        </div>
        {% endfor %}

    </div>

</div>

{% endblock %}
